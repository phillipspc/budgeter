<%= form_with model: @transaction, data: { controller: "categories" } do |f| %>
  <div class="columns">
    <div class="field column">
      <div class="control">
        <%= f.label :name, class: "label" %>
        <%= f.text_field :name, class: "input" %>
      </div>
    </div>

    <div class="field column">
      <div class="control">
        <%= f.label :amount, class: "label" %>
        <%= f.number_field :amount, class: "input", step: 0.01 %>
      </div>
    </div>

    <div class="field column">
      <div class="control">
        <%= f.label :category_id, class: 'label' %>
        <div class="select is-fullwidth">
          <%= f.select :category_id, Category.all.pluck(:name, :id), { include_blank: true },
                { data: { action: "categories#updateOptions", target: "categories.category" } } %>
        </div>
      </div>
    </div>

    <div class="field column">
      <div class="control">
        <%= f.label :sub_category_id, class: 'label' %>
        <div class="select is-fullwidth">
          <%= f.select :sub_category_id, SubCategory.all.pluck(:name, :id), { include_blank: true },
                { disabled: true, data: { target: "categories.subCategory" } } %>
        </div>
      </div>
    </div>

    <div class="field column">
      <div class="control">
        <%= f.label :date, class: "label" %>
        <%= f.text_field :date, class: "input", value: Date.today,
              data: { controller: "datepicker" } %>
      </div>

    </div>
  </div>

  <%= link_to transactions_path, class: "button is-link is-outlined" do %>
    <span class="icon">
      <i class="fas fa-ban"></i>
    </span>
    <span>Cancel</span>
  <% end %>

  <%= f.submit "Save and Add More", class: "button is-primary is-pulled-right" %>
  <%= f.submit "Save", class: "button is-primary is-pulled-right m-r-md" %>

<% end %>
